{% extends 'base.html' %}

{% block content %}

<h1>Profile Details</h1>

<div class="card">
    <div class="card-content">
        <div class="flex-container">
            <div>
                    <span class="card-title">{{ profile.name }}</span>
                    <p>Roles: {{ profile.role }} </p>
                    <p>Bio: {{ profile.bio }} </p>

                    
            </div>
            <div>
                {% load static %}
                <img width="100px" height="100px" src={% static profile.image|cut:'main_app/static/' %} />
            </div>
    </div>

    <div class="card-action">
        <a href="{% url 'profiles_update' profile.id %}">Edit</a>
        <a href="{% url 'profiles_delete' profile.id %}">Delete</a>
    </div>

    </div>
</div>

<div>

   

    <br>
    

</div>

<hr>

<a id="products">
<div class="row">
    <div class="col s6">
        <h3>{{ profile.name }}'s Products</h3>

        {% if profile.products.count %}
            {% for product in profile.products.all %}
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">
                            A <span style="color: {{ product.color }}"> {{ product.color }}</span>
                            {{ product.name }}
                        </span>
                    </div>

                    

                </div>
            {% endfor %}

        {% else %}
                <h5>No Products </h5>
        {% endif %}
    </div>
    
    <div class="col s6">
        <h3>Available Products</h3>

        {% if products.count %}
            {% for product in products.all %}
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">
                            A <span style="color: {{ product.color }}"> {{ product.color }}</span>
                            {{ product.name }}
                        </span>
                    </div>

                    

                </div>
            {% endfor %}

        {% else %}
            <h5> {{ profile.name }} already has all the products available </h5>
        {% endif %}

    </div>
</div>
</a>
<script>
    let dateEl = document.getElementById('id_date');
    M.Datepicker.init(dateEl, {
        format: 'yyyy-mm-dd',
        defaultDate: new Date(),
        setDefaultDate: true,
        autoClose: true
    });

    
</script>

{% endblock %}